{
    "title": "GEOLYTIX | XYZ",
    "locales": {
        "z2": {
            "minZoom": 3,
            "maxZoom": 14,
            "bounds": {
                "north": 85,
                "east": 180,
                "south": -85,
                "west": -180
            },
            "layers": {
                "OSM": {
                    "display": true,
                    "format": "tiles",
                    "URI": "https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"
                },
                "COUNTRIES": {
                    "display": true,
                    "format": "mvt",
                    "dbs": "XYZ",
                    "table": "dev.natural_earth_countries",
                    "geom": "geom_3857",
                    "mvt_cache": "dev.natural_earth_countries__mvts",
                    "style": {
                        "label": {
                            "field": "name",
                            "display": true,
                            "declutter": true,
                            "strokeColor": "#fff",
                            "strokeWidth": 3
                        },
                        "default": {
                            "strokeColor": "#333333",
                            "fillColor": "#ffffff"
                        },
                        "highlight": {
                            "strokeColor": "#f50057",
                            "fillColor": "#fce4ec"
                        },
                        "themes": {
                            "Population": {
                                "type": "graduated",
                                "field": "pop_est_edit",
                                "cat_arr": [
                                    {
                                        "value": 0,
                                        "label": "0 to 10000",
                                        "style": {
                                            "fillColor": "#15773f"
                                        }
                                    },
                                    {
                                        "value": 1000000,
                                        "label": "1+ million",
                                        "style": {
                                            "fillColor": "#66bd63"
                                        }
                                    },
                                    {
                                        "value": 10000000,
                                        "label": "10+ million",
                                        "style": {
                                            "fillColor": "#a6d96a"
                                        }
                                    },
                                    {
                                        "value": 25000000,
                                        "label": "25+ million",
                                        "style": {
                                            "fillColor": "#d9ef8b"
                                        }
                                    },
                                    {
                                        "value": 50000000,
                                        "label": "50+ million",
                                        "style": {
                                            "fillColor": "#fdae61"
                                        }
                                    },
                                    {
                                        "value": 100000000,
                                        "label": "100+ million",
                                        "style": {
                                            "fillColor": "#f46d43"
                                        }
                                    },
                                    {
                                        "value": 1000000000,
                                        "label": "1+ billion",
                                        "style": {
                                            "fillColor": "#d73027"
                                        }
                                    }
                                ]
                            },
                            "GDP": {
                                "type": "graduated",
                                "field": "gdp_md_est",
                                "cat_arr": [
                                    {
                                        "value": 0,
                                        "label": "0",
                                        "style": {
                                            "fillColor": "#15773f"
                                        }
                                    },
                                    {
                                        "value": 5000,
                                        "label": "5000",
                                        "style": {
                                            "fillColor": "#66bd63"
                                        }
                                    },
                                    {
                                        "value": 25000,
                                        "label": "25000",
                                        "style": {
                                            "fillColor": "#a6d96a"
                                        }
                                    },
                                    {
                                        "value": 75000,
                                        "label": "75000",
                                        "style": {
                                            "fillColor": "#d9ef8b"
                                        }
                                    },
                                    {
                                        "value": 250000,
                                        "label": "250000",
                                        "style": {
                                            "fillColor": "#fdae61"
                                        }
                                    },
                                    {
                                        "value": 500000,
                                        "label": "500000",
                                        "style": {
                                            "fillColor": "#f46d43"
                                        }
                                    },
                                    {
                                        "value": 1000000,
                                        "label": "1000000",
                                        "style": {
                                            "fillColor": "#d73027"
                                        }
                                    }
                                ]
                            },
                            "GDP / Population": {
                                "type": "graduated",
                                "field": "gdp_pp",
                                "fieldfx": "gdp_md_est_edit::numeric / (pop_est_edit::numeric + 1) * 1000",
                                "cat_arr": [
                                    {
                                        "value": 1,
                                        "label": "1",
                                        "style": {
                                            "fillColor": "#15773f"
                                        }
                                    },
                                    {
                                        "value": 2.5,
                                        "label": "2.5",
                                        "style": {
                                            "fillColor": "#66bd63"
                                        }
                                    },
                                    {
                                        "value": 5,
                                        "label": "5",
                                        "style": {
                                            "fillColor": "#a6d96a"
                                        }
                                    },
                                    {
                                        "value": 10,
                                        "label": "10",
                                        "style": {
                                            "fillColor": "#d9ef8b"
                                        }
                                    },
                                    {
                                        "value": 25,
                                        "label": "25",
                                        "style": {
                                            "fillColor": "#fdae61"
                                        }
                                    },
                                    {
                                        "value": 50,
                                        "label": "50",
                                        "style": {
                                            "fillColor": "#f46d43"
                                        }
                                    },
                                    {
                                        "value": 100,
                                        "label": "100",
                                        "style": {
                                            "fillColor": "#d73027"
                                        }
                                    }
                                ]
                            },
                            "Population Density": {
                                "type": "graduated",
                                "fieldfx": "(pop_est_edit / st_area(geom_3857)) * 1000",
                                "field": "pop_dens",
                                "cat_arr": [
                                    {
                                        "value": 0,
                                        "label": "0",
                                        "style": {
                                            "fillColor": "#15773f"
                                        }
                                    },
                                    {
                                        "value": 0.01,
                                        "label": "0.01",
                                        "style": {
                                            "fillColor": "#66bd63"
                                        }
                                    },
                                    {
                                        "value": 0.025,
                                        "label": "0.025",
                                        "style": {
                                            "fillColor": "#a6d96a"
                                        }
                                    },
                                    {
                                        "value": 0.05,
                                        "label": "0.05",
                                        "style": {
                                            "fillColor": "#d9ef8b"
                                        }
                                    },
                                    {
                                        "value": 0.1,
                                        "label": "0.1",
                                        "fillColor": "#fdae61"
                                    },
                                    {
                                        "value": 0.5,
                                        "label": "0.5",
                                        "style": {
                                            "fillColor": "#f46d43"
                                        }
                                    },
                                    {
                                        "value": 1,
                                        "label": "1",
                                        "style": {
                                            "fillColor": "#d73027"
                                        }
                                    }
                                ]
                            }
                        }
                    },
                    "qID": "id",

                    "infoj": [
                        {
                            "type": "key"
                        },
                        {
                            "label": "Name",
                            "field": "name"
                        },
                        {
                            "label": "Population Est",
                            "field": "pop_est",
                            "type": "integer"
                        },
                        {
                            "label": "Population Est edit",
                            "field": "pop_est_edit",
                            "type": "integer",
                            "filter": "numeric",
                            "edit": true
                        },
                        {
                            "label": "GDP",
                            "field": "gdp_md_est",
                            "type": "integer",
                            "suffix": " dollars"
                        },
                        {
                            "label": "GDP edit",
                            "field": "gdp_md_est_edit",
                            "type": "integer",
                            "edit": true
                        },
                        {
                            "label": "Area SRID:3857",
                            "field": "area_",
                            "fieldfx": "ST_Area(geom_3857)",
                            "type": "integer"
                        }
                    ]
                }
            }
        },
        "GB": {
            "showScaleBar": true,
            "locate": {},
            "minZoom": 5,
            "maxZoom": 19,
            "view": {
                "lat": 55.45,
                "lng": -4.77,
                "z": 6
            },
            "bounds": {
                "north": 62,
                "east": 5,
                "south": 48,
                "west": -13
            },
            "maskBounds": true,
            "gazetteer": {
                "provider": "GOOGLE",
                "code": "GB",
                "placeholder": "e.g. London",
                "datasets": [
                    {
                        "layer": "Retail Points",
                        "table": "dev.retailpoints",
                        "label": "store"
                    }
                ]
            },
            "layers": {
                "OS Zoomstack": {
                    "group": "Base Layer",
                    "meta": "<p>Test paragraph for meta in group</p>",
                    "attribution": {
                        "© Ordanance Survey": "https://ordnancesurvey.co.uk"
                    },
                    "format": "tiles",
                    "URI": "https://api.ordnancesurvey.co.uk/mapping_api/v1/service/zxy/EPSG%3A3857/Light%203857/{z}/{x}/{y}.png?&provider=OS"
                },
                "Mapbox Base": {
                    "group": "Base Layer",
                    "display": true,
                    "attribution": {
                        "© Mapbox": "https://www.mapbox.com/about/maps",
                        "© OpenStreetMap": "http://www.openstreetmap.org/copyright"
                    },
                    "format": "tiles",
                    "URI": "/styles/v1/dbauszus/ciozrimi3002bdsm8bjtn2v1y/tiles/256/{z}/{x}/{y}?&provider=MAPBOX&host=https://api.mapbox.com"
                },
                "Retail Points": {
                    "group": "Cluster",
                    "format": "cluster",
                    "cluster_label": "store",
                    "dbs": "XYZ",
                    "qID": "id",
                    "table": "dev.retailpoints",
                    "geom": "geom",
                    "srid": "4326",
                    "cluster_kmeans": 0.02,
                    "cluster_dbscan": 0.02,
                    "hover": {
                        "field": "store"
                    },
                    "dataview": {
                        "Retail Points": {
                            "display": true,
                            "from": "dev.retailpoints",
                            "columns": [
                                {
                                    "title": "ID",
                                    "field": "retailpoint_id"
                                },
                                {
                                    "title": "Retailer",
                                    "field": "retailer"
                                },
                                {
                                    "title": "Fascia",
                                    "field": "fascia"
                                }
                            ]
                        }
                    },
                    "filter": {
                        "infoj": [
                            {
                                "label": "ID count",
                                "field": "id_count",
                                "type": "integer",
                                "inline": true,
                                "fieldfx": "count(retailpoint_id)"
                            }
                        ]
                    },
                    "style": {
                        "label": {
                            "field": "store",
                            "display": true,
                            "declutter": true,
                            "strokeColor": "#fff",
                            "strokeWidth": 3
                        },
                        "marker": {
                            "type": "target",
                            "fillColor": "#eeeeee"
                        },
                        "markerMulti": {
                            "type": "target",
                            "fillColor": "#534B62"
                        },
                        "highlight": {
                            "type": "target",
                            "fillColor": "#ccff99"
                        },
                        "themes": {
                            "Retailer": {
                                "type": "categorized",
                                "field": "retailer",
                                "other": true,
                                "cat": {
                                    "Tesco": {
                                        "label": "Tesco",
                                        "style": {
                                            "fillColor": "#0055a8",
                                            "layers": {
                                                "0.75": "#ffffff",
                                                "0.35": "#f02f26"
                                            }
                                        }
                                    },
                                    "Sainsburys": {
                                        "label": "Sainsbury's",
                                        "style": {
                                            "fillColor": "#ee8a00",
                                            "layers": {
                                                "0.5": "#ffffff",
                                                "0.35": "#ee8a00"
                                            }
                                        }
                                    },
                                    "Marks and Spencer": {
                                        "label": "Marks & Spencer",
                                        "style": {
                                            "fillColor": "#0a0d10",
                                            "layers": {
                                                "0.5": "#def036",
                                                "0.25": "#0a0d10"
                                            }
                                        }
                                    }
                                }
                            },
                            "Households": {
                                "type": "graduated",
                                "field": "hhdooc_11",
                                "cat_arr": [
                                    {
                                        "value": 0,
                                        "label": "0 to 100",
                                        "style": {
                                            "fillColor": "#15773f"
                                        }
                                    },
                                    {
                                        "value": 100,
                                        "label": "100 to 200",
                                        "style": {
                                            "fillColor": "#66bd63"
                                        }
                                    },
                                    {
                                        "value": 200,
                                        "label": "200 to 400",
                                        "style": {
                                            "fillColor": "#a6d96a"
                                        }
                                    },
                                    {
                                        "value": 400,
                                        "label": "400 to 600",
                                        "style": {
                                            "fillColor": "#d9ef8b"
                                        }
                                    },
                                    {
                                        "value": 600,
                                        "label": "600 to 800",
                                        "style": {
                                            "fillColor": "#fdae61"
                                        }
                                    },
                                    {
                                        "value": 800,
                                        "label": "800 to 1000",
                                        "style": {
                                            "fillColor": "#f46d43"
                                        }
                                    },
                                    {
                                        "value": 1000,
                                        "label": "1000 or more",
                                        "style": {
                                            "fillColor": "#d73027"
                                        }
                                    }
                                ]
                            },
                            "Households Sized": {
                                "type": "graduated",
                                "field": "hhdooc_11",
                                "size": "hhdooc_11",
                                "cat_arr": [
                                    {
                                        "value": 0,
                                        "label": "0 to 100",
                                        "style": {
                                            "fillColor": "#15773f"
                                        }
                                    },
                                    {
                                        "value": 100,
                                        "label": "100 to 200",
                                        "style": {
                                            "fillColor": "#66bd63"
                                        }
                                    },
                                    {
                                        "value": 200,
                                        "label": "200 to 400",
                                        "style": {
                                            "fillColor": "#a6d96a"
                                        }
                                    },
                                    {
                                        "value": 400,
                                        "label": "400 to 600",
                                        "style": {
                                            "fillColor": "#d9ef8b"
                                        }
                                    },
                                    {
                                        "value": 600,
                                        "label": "600 to 800",
                                        "style": {
                                            "fillColor": "#fdae61"
                                        }
                                    },
                                    {
                                        "value": 800,
                                        "label": "800 to 1000",
                                        "style": {
                                            "fillColor": "#f46d43"
                                        }
                                    },
                                    {
                                        "value": 1000,
                                        "label": "1000 or more",
                                        "style": {
                                            "fillColor": "#d73027"
                                        }
                                    }
                                ]
                            },
                            "Tesco/Sainsbury's": {
                                "type": "competition",
                                "field": "retailer",
                                "other": true,
                                "cat": {
                                    "Tesco": {
                                        "label": "Tesco",
                                        "style": {
                                            "fillColor": "#0055a8"
                                        }
                                    },
                                    "Sainsburys": {
                                        "label": "Sainsbury's",
                                        "style": {
                                            "fillColor": "#ee8a00"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "infoj": [
                        {
                            "type": "streetview"
                        },
                        {
                            "type": "key"
                        },
                        {
                            "label": "ID",
                            "field": "retailpoint_id",
                            "type": "text",
                            "inline": true
                        },
                        {
                            "label": "Store",
                            "field": "store",
                            "filter": "like"
                        },
                        {
                            "label": "Retailer",
                            "field": "retailer",
                            "filter": "like"
                        },
                        {
                            "label": "Fascia",
                            "field": "fascia",
                            "filter": "like"
                        },
                        {
                            "label": "Address"
                        },
                        {
                            "field": "address_1",
                            "type": "text",
                            "level": 1
                        },
                        {
                            "field": "address_2",
                            "type": "text",
                            "level": 1
                        },
                        {
                            "field": "locality",
                            "type": "text",
                            "level": 1
                        },
                        {
                            "field": "town",
                            "type": "text",
                            "level": 1
                        },
                        {
                            "label": "Postcode",
                            "field": "postcode",
                            "type": "text",
                            "level": 1,
                            "filter": "like",
                            "filterZoom": true
                        },
                        {
                            "label": "Households",
                            "field": "hhdooc_11",
                            "type": "integer",
                            "filter": "numeric"
                        },
                        {
                            "field": "test_flag",
                            "label": "Test boolean field",
                            "type": "boolean",
                            "filter": "boolean",
                            "edit": true
                        },
                        {
                            "label": "Catchment 10min",
                            "type": "label"
                        },
                        {
                            "field": "catchment_10min",
                            "fieldfx": "ST_asGeoJson(catchment_10min)",
                            "type": "geometry",
                            "display": true,
                            "edit": {
                                "isoline_here": {
                                    "minutes": 10
                                }
                            },
                            "style": {
                                "strokeColor": "#ffca28",
                                "fillColor": "#ffca28",
                                "strokeWidth": 2,
                                "fillOpacity": 0.2
                            }
                        }
                    ]
                }
            }
        }
    }
}